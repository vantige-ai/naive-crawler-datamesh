# ğŸš€ Quick Setup Guide

This repository now uses a **centralized configuration system** that automatically generates all documentation and examples with your project-specific values.

## âš¡ One-Command Setup

```bash
./setup.sh
```

This interactive script will:
1. âœ… Collect your project configuration (Project ID, domain, API key, etc.)
2. âœ… Generate all documentation with your values
3. âœ… Create your `config.sh` deployment file
4. âœ… Ensure security (config files are git-ignored)

## ğŸ“ Repository Structure

```
gcp-serverless-web-crawler/
â”œâ”€â”€ setup.sh                    â† Run this first!
â”œâ”€â”€ variables.sh                â† Generated by setup.sh
â”œâ”€â”€ config.sh                   â† Generated by setup.sh (git-ignored)
â”œâ”€â”€ README.md                   â† Generated with your values
â”œâ”€â”€ architecture.md             â† Generated with your values
â”œâ”€â”€ .env.example               â† Generated with your values
â”œâ”€â”€ templates/                  â† Template files (edit these for customization)
â”‚   â”œâ”€â”€ README.md.template
â”‚   â”œâ”€â”€ architecture.md.template
â”‚   â”œâ”€â”€ config.sh.template
â”‚   â””â”€â”€ .env.example.template
â””â”€â”€ scripts/
    â”œâ”€â”€ generate_docs.sh        â† Regenerates docs from templates
    â”œâ”€â”€ setup_infra.sh         â† Deploy infrastructure
    â””â”€â”€ deploy.sh              â† Deploy services
```

## ğŸ”„ How It Works

1. **Template System**: All documentation files are generated from templates in `templates/`
2. **Centralized Config**: `variables.sh` contains all your project-specific values
3. **Auto-Generation**: `scripts/generate_docs.sh` populates templates with your values
4. **Security**: Real configuration files are git-ignored automatically

## ğŸ› ï¸ Advanced Usage

### Reconfigure Project
```bash
./setup.sh  # Will prompt to reconfigure
```

### Regenerate Documentation Only
```bash
./scripts/generate_docs.sh
```

### Edit Templates
```bash
# Edit the template files in templates/ directory
# Then regenerate:
./scripts/generate_docs.sh
```

### Manual Configuration
```bash
# 1. Edit centralized config
nano variables.sh

# 2. Regenerate all docs
./scripts/generate_docs.sh

# 3. Deploy
./scripts/setup_infra.sh && ./scripts/deploy.sh
```

## ğŸ”’ Security Features

- âœ… **Git-ignored configs**: `config.sh` and `variables.sh` are never committed
- âœ… **Template sharing**: Only share template files, never real values
- âœ… **API key protection**: Real keys only stored locally
- âœ… **Backup system**: All changes are backed up before regeneration

## ğŸš€ Next Steps After Setup

1. **Deploy infrastructure**:
   ```bash
   ./scripts/setup_infra.sh
   ```

2. **Deploy services**:
   ```bash
   ./scripts/deploy.sh
   ```

3. **Test the crawler**:
   ```bash
   gcloud pubsub topics publish [your-crawler-id]-input-topic \
     --message '{"domain": "[your-domain]"}' \
     --project=[your-project-id]
   ```

All example commands in the generated documentation will use your actual project values!