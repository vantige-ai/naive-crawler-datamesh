# 🚀 Quick Setup Guide

This repository now uses a **centralized configuration system** that automatically generates all documentation and examples with your project-specific values.

## ⚡ One-Command Setup

```bash
./setup.sh
```

This interactive script will:
1. ✅ Collect your project configuration (Project ID, domain, API key, etc.)
2. ✅ Generate all documentation with your values
3. ✅ Create your `config.sh` deployment file
4. ✅ Ensure security (config files are git-ignored)

## 📁 Repository Structure

```
gcp-serverless-web-crawler/
├── setup.sh                    ← Run this first!
├── variables.sh                ← Generated by setup.sh
├── config.sh                   ← Generated by setup.sh (git-ignored)
├── README.md                   ← Generated with your values
├── architecture.md             ← Generated with your values
├── .env.example               ← Generated with your values
├── templates/                  ← Template files (edit these for customization)
│   ├── README.md.template
│   ├── architecture.md.template
│   ├── config.sh.template
│   └── .env.example.template
└── scripts/
    ├── generate_docs.sh        ← Regenerates docs from templates
    ├── setup_infra.sh         ← Deploy infrastructure
    └── deploy.sh              ← Deploy services
```

## 🔄 How It Works

1. **Template System**: All documentation files are generated from templates in `templates/`
2. **Centralized Config**: `variables.sh` contains all your project-specific values
3. **Auto-Generation**: `scripts/generate_docs.sh` populates templates with your values
4. **Security**: Real configuration files are git-ignored automatically

## 🛠️ Advanced Usage

### Reconfigure Project
```bash
./setup.sh  # Will prompt to reconfigure
```

### Regenerate Documentation Only
```bash
./scripts/generate_docs.sh
```

### Edit Templates
```bash
# Edit the template files in templates/ directory
# Then regenerate:
./scripts/generate_docs.sh
```

### Manual Configuration
```bash
# 1. Edit centralized config
nano variables.sh

# 2. Regenerate all docs
./scripts/generate_docs.sh

# 3. Deploy
./scripts/setup_infra.sh && ./scripts/deploy.sh
```

## 🔒 Security Features

- ✅ **Git-ignored configs**: `config.sh` and `variables.sh` are never committed
- ✅ **Template sharing**: Only share template files, never real values
- ✅ **API key protection**: Real keys only stored locally
- ✅ **Backup system**: All changes are backed up before regeneration

## 🚀 Next Steps After Setup

1. **Deploy infrastructure**:
   ```bash
   ./scripts/setup_infra.sh
   ```

2. **Deploy services**:
   ```bash
   ./scripts/deploy.sh
   ```

3. **Test the crawler**:
   ```bash
   gcloud pubsub topics publish [your-crawler-id]-input-topic \
     --message '{"domain": "[your-domain]"}' \
     --project=[your-project-id]
   ```

All example commands in the generated documentation will use your actual project values!